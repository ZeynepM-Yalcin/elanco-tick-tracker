<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UK Tick Tracker</title>

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body>

  <nav class="navbar">
    <div class="brand">
      <img src="/static/elanco_logo.png" alt="Elanco" />
      <div class="brand-divider"></div>
      <span class="brand-text">UK Tick Tracker</span>
    </div>
    <div class="nav-links">
      <a href="#map-section">Map</a>
      <a href="#education">Learn</a>
      <a href="#report-section">Report</a>
    </div>
  </nav>

  <header class="hero">
    <div>
      <h1>Tick Sightings Across the UK</h1>
      <p>Crowdsourced data to track tick activity and protect against tick-borne diseases.</p>
    </div>
    <div class="hero-stats">
      <div class="stat-card">
        <span class="stat-num" id="stat-total">‚Äî</span>
        <span class="stat-label">Total Sightings</span>
      </div>
      <div class="stat-card">
        <span class="stat-num">14</span>
        <span class="stat-label">Cities</span>
      </div>
      <div class="stat-card">
        <span class="stat-num">5</span>
        <span class="stat-label">Species</span>
      </div>
    </div>
  </header>

  <!-- ‚îÄ‚îÄ MAP ‚îÄ‚îÄ -->
  <section id="map-section" class="section">
    <h2>Interactive Map</h2>
    <p class="section-desc">Click a city to see details. Use the filters to narrow down the data.</p>

    <div class="filters">
      <div class="filter-group">
        <label for="filter-species">Species</label>
        <select id="filter-species">
          <option value="">All species</option>
          <option>Marsh tick</option>
          <option>Southern rodent tick</option>
          <option>Passerine tick</option>
          <option>Tree-hole tick</option>
          <option>Fox/badger tick</option>
        </select>
      </div>
      <div class="filter-group">
        <label for="filter-start">From</label>
        <input type="date" id="filter-start" value="2012-01-01" />
      </div>
      <div class="filter-group">
        <label for="filter-end">To</label>
        <input type="date" id="filter-end" value="2024-12-31" />
      </div>
      <button class="btn" id="apply-filters">Apply</button>
      <button class="btn btn-outline" id="reset-filters">Reset</button>
    </div>

    <div class="map-layout">
      <div id="map"></div>

      <aside id="sidebar" class="sidebar hidden">
        <button id="close-sidebar" class="close-btn">‚úï</button>
        <div id="sidebar-content"></div>
      </aside>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ EDUCATION ‚îÄ‚îÄ -->
  <section id="education" class="section">
    <h2>Learn About Ticks</h2>

    <div class="tabs">
      <button class="tab-btn active" data-tab="species">Species Guide</button>
      <button class="tab-btn" data-tab="prevention">Prevention Tips</button>
      <button class="tab-btn" data-tab="seasonal">Seasonal Activity</button>
    </div>

    <div id="tab-species" class="tab-panel">
      <div class="card-grid">
        <div class="card">
          <h3>Marsh tick</h3>
          <p class="latin">Ixodes apronophorus</p>
          <p>Found in wetlands and grassland near water. Mainly targets small rodents but will bite dogs and humans.</p>
          <span class="badge badge-medium">Medium risk</span>
        </div>
        <div class="card">
          <h3>Southern rodent tick</h3>
          <p class="latin">Ixodes acuminatus</p>
          <p>Mainly in southern England and Wales. Prefers rodents but can transmit Lyme disease to people and pets.</p>
          <span class="badge badge-medium">Medium risk</span>
        </div>
        <div class="card">
          <h3>Passerine tick</h3>
          <p class="latin">Dermacentor frontalis</p>
          <p>The most reported species in the dataset. Spreads widely via migratory birds as hosts.</p>
          <span class="badge badge-high">High risk</span>
        </div>
        <div class="card">
          <h3>Tree-hole tick</h3>
          <p class="latin">Ixodes arboricola</p>
          <p>Hides in tree hollows and nest boxes. Much less likely to bite humans than other species.</p>
          <span class="badge badge-low">Low risk</span>
        </div>
        <div class="card">
          <h3>Fox/badger tick</h3>
          <p class="latin">Ixodes hexagonus</p>
          <p>Common in urban areas wherever foxes or badgers are present. Regularly bites dogs and cats.</p>
          <span class="badge badge-high">High risk</span>
        </div>
      </div>
    </div>

    <div id="tab-prevention" class="tab-panel hidden">
      <div class="card-grid">
        <div class="card">
          <div class="tip-icon">üëó</div>
          <h3>Cover Up</h3>
          <p>Wear long sleeves and tuck trousers into socks in long grass or woodland. Light colours make ticks easier to spot.</p>
        </div>
        <div class="card">
          <div class="tip-icon">ü¶ü</div>
          <h3>Use Repellent</h3>
          <p>DEET-based repellents work on skin and clothing. Ask your vet about tick treatments for dogs and cats.</p>
        </div>
        <div class="card">
          <div class="tip-icon">üîç</div>
          <h3>Check After Going Out</h3>
          <p>Ticks like warm hidden spots: armpits, groin, scalp, behind knees. Check yourself and pets within a few hours.</p>
        </div>
        <div class="card">
          <div class="tip-icon">ü©∫</div>
          <h3>Remove Correctly</h3>
          <p>Use tweezers close to the skin and pull steadily upward. Don't twist, squeeze, or use Vaseline.</p>
        </div>
        <div class="card">
          <div class="tip-icon">üìÖ</div>
          <h3>Know the Season</h3>
          <p>Most active March‚ÄìJune and August‚ÄìNovember, but our data shows sightings all year round.</p>
        </div>
        <div class="card">
          <div class="tip-icon">üè•</div>
          <h3>Watch for Symptoms</h3>
          <p>A "bullseye" rash, flu-like symptoms, or joint pain after a bite - see a GP quickly. Early treatment works best.</p>
        </div>
      </div>
    </div>

    <div id="tab-seasonal" class="tab-panel hidden">
      <p class="section-desc">Select a city and year to see how sightings vary across the months.</p>
      <div class="filters">
        <div class="filter-group">
          <label for="s-city">City</label>
          <select id="s-city">
            <option>Birmingham</option><option>Bristol</option><option>Cardiff</option>
            <option>Edinburgh</option><option>Glasgow</option><option>Leeds</option>
            <option>Leicester</option><option>Liverpool</option><option>London</option>
            <option>Manchester</option><option>Newcastle</option><option>Nottingham</option>
            <option>Sheffield</option><option>Southampton</option>
          </select>
        </div>
        <div class="filter-group">
          <label for="s-year">Year</label>
          <select id="s-year">
            <option value="">All years</option>
            <option>2012</option><option>2013</option><option>2014</option><option>2015</option>
            <option>2016</option><option>2017</option><option>2018</option><option>2019</option>
            <option>2020</option><option>2021</option><option>2022</option><option>2023</option>
            <option>2024</option>
          </select>
        </div>
        <button class="btn" id="load-seasonal">Load Chart</button>
      </div>
      <div class="chart-box">
        <canvas id="seasonal-chart"></canvas>
      </div>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ REPORT ‚îÄ‚îÄ -->
  <section id="report-section" class="section">
    <h2>Report a Sighting</h2>
    <p class="section-desc">Spotted a tick? Add it to the map and help build a clearer picture of tick activity.</p>

    <div class="report-layout">
      <form id="report-form" novalidate>

        <div class="form-row">
          <div class="form-group">
            <label for="f-date">Date <span class="req">*</span></label>
            <input type="date" id="f-date" name="date" required />
            <span class="err" id="err-date"></span>
          </div>
          <div class="form-group">
            <label for="f-time">Time <span class="req">*</span></label>
            <input type="time" id="f-time" name="time" required />
            <span class="err" id="err-time"></span>
          </div>
        </div>

        <div class="form-group">
          <label for="f-location">Location <span class="req">*</span></label>
          <select id="f-location" name="location" required>
            <option value="">‚Äî Select a city ‚Äî</option>
            <option>Birmingham</option><option>Bristol</option><option>Cardiff</option>
            <option>Edinburgh</option><option>Glasgow</option><option>Leeds</option>
            <option>Leicester</option><option>Liverpool</option><option>London</option>
            <option>Manchester</option><option>Newcastle</option><option>Nottingham</option>
            <option>Sheffield</option><option>Southampton</option>
          </select>
          <span class="err" id="err-location"></span>
        </div>

        <div class="form-group">
          <label for="f-species">Species <span class="req">*</span></label>
          <select id="f-species" name="species" required>
            <option value="">‚Äî Select a species ‚Äî</option>
            <option>Marsh tick</option>
            <option>Southern rodent tick</option>
            <option>Passerine tick</option>
            <option>Tree-hole tick</option>
            <option>Fox/badger tick</option>
            <option value="Unknown">Not sure</option>
          </select>
          <span class="err" id="err-species"></span>
        </div>

        <div class="form-group">
          <label for="f-name">Your name (optional)</label>
          <input type="text" id="f-name" name="reported_by" placeholder="Leave blank to stay anonymous" />
        </div>

        <div class="form-group">
          <label for="f-image">Photo (optional)</label>
          <input type="file" id="f-image" name="image" accept="image/*" />
          <span class="err" id="err-image"></span>
        </div>

        <div id="form-msg" class="form-msg hidden"></div>

        <div class="form-actions">
          <button type="submit" class="btn" id="submit-btn">Submit Sighting</button>
          <button type="reset" class="btn btn-outline">Clear</button>
        </div>
      </form>

      <aside class="tips-panel">
        <h3>Tips</h3>
        <ul>
          <li>Try to identify the species before removing the tick</li>
          <li>A photo helps confirm the species</li>
          <li>"Not sure" reports are still useful, volume matters</li>
          <li>Your sighting will appear on the map straight away</li>
        </ul>
      </aside>
    </div>
  </section>

  <footer class="footer">
    <p>UK Tick Tracker ‚Äî Elanco Placement Programme Technical Challenge</p>
  </footer>

  <script src="/static/app.js"></script>
</body>
</html>
